# План автоматизации тестирования
### Перечень автоматизируемых сценариев:*
<details>
<summary> Тестовые данные</summary>

Валидные данные:
>1. Карта со статусом "APPROVED" - "4444 4444 4444 4441"  (далее 1я карта)
>2. Карта со статусом "DECLINED" - "4444 4444 4444 4442" (далее 2я карта)
>3. Поля месяц и год - +360 дней от текущей даты (например, при текущей дате 31.01.23, поле месяц будет '01', поле год '24')
>4. Владелец карты - генерация Faker (имя и фамилию держателя карты латиницей, например 'Emmerich Ruthe')
>5. CVC/CVV - трехзначный код проверки, в диапозане 000-999 (например '666')

Невалидные данные:  
  
> Случайная карта - генерация Faker (стандартный идентификационный номер пластиковой карты состоит из 16 цифр, сгруппированных в четыре блока по четыре символа в каждом, например '1234 5678 9101 1213')
</details>

---

>#### Позитивные сценарии:

1. Отправка формы 'купить' с данными 1й карты. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма успешно отправлена, появился pop-up "Успех. Операция одобрена банком." Появились записи в БД (таблица payment_entity) - amount=4500000 и status=APPROVED*
2. Отправка формы 'купить' с данными 2й карты. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма успешно отправлена, появился pop-up "Ошибка! Банк отказал в проведении операции." Появились записи в БД (таблица payment_entity) - amount=4500000 и status=DECLINED*
3. Отправка формы 'купить в кредит' с данными 1й карты. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма успешно отправлена, появился pop-up "Успех. Операция одобрена банком." Появились записи в БД (таблица credit_request_entity) - status=APPROVED и bank_id*
4. Отправка формы 'купить в кредит' с данными 2й карты. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма успешно отправлена, появился pop-up "Ошибка! Банк отказал в проведении операции." Появились записи в БД (таблица credit_request_entity) - status=DECLINED и bank_id*
5. Отправка формы 'купить' c валидными тестовыми данными, в поле владелец ввести имя и фамилию на латинице,содержащую дефис, например 'Mamed Magomed-Ogly'.  `Ожидаемый результат:` *Форма успешно отправлена, появился pop-up "Успех. Операция одобрена банком." Появились записи в БД (таблица payment_entity) - amount=4500000 и status=APPROVED*
6. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле владелец ввести имя и фамилию на латинице,содержащую дефис, например 'Mamed Magomed-Ogly'.  `Ожидаемый результат:` *Форма успешно отправлена, появился pop-up "Успех. Операция одобрена банком." Появились записи в БД (таблица credit_request_entity) - status=APPROVED и bank_id*

---
>#### Негативные сценарии:

7. Отправка пустой формы 'купить'. `Ожидаемый результат:` *Форма не отправляется, появились подсказки под полями форм*
8. ~~Отправка пустой формы 'купить', затем заполнить пустые поля валидными данными. `Ожидаемый результат:` *Подсказки под полями форм изчезли*~~
9. Отправка пустой формы 'купить в кредит'. `Ожидаемый результат:` *Форма не отправляется, появились подсказки под полями форм*
10. ~~Отправка пустой формы 'купить в кредит', затем заполнить пустые поля валидными данными. `Ожидаемый результат:` *Подсказки под полями форм изчезли*~~
11. Отправка формы 'купить' с данными [случайной карты](https://github.com/crackmajor/DIPLOM-QA/blob/17e6623f2ac728b015c5e13b26dfbe7fb3969a19/Doc/Plan.md?plain=1#L15). Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма успешно отправлена, появился pop-up "Ошибка! Банк отказал в проведении операции."*
12. Отправка формы 'купить в кредит' с данными [случайной карты](https://github.com/crackmajor/DIPLOM-QA/blob/17e6623f2ac728b015c5e13b26dfbe7fb3969a19/Doc/Plan.md?plain=1#L15) Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма успешно отправлена, появился pop-up "Ошибка! Банк отказал в проведении операции."*
13. Отправка формы 'купить' c валидными тестовыми данными, поле номер карты пустое. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
14. Отправка формы 'купить' c валидными тестовыми данными, поле месяц пустое. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
15. Отправка формы 'купить' c валидными тестовыми данными, поле год пустое. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
16. Отправка формы 'купить' c валидными тестовыми данными, поле владелец пустое. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
17. Отправка формы 'купить' c валидными тестовыми данными, поле cvc/cvv пустое. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
18. Отправка формы 'купить в кредит' c валидными тестовыми данными, поле номер карты пустое. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
19. Отправка формы 'купить в кредит' c валидными тестовыми данными, поле месяц пустое. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
20. Отправка формы 'купить в кредит' c валидными тестовыми данными, поле год пустое. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
21. Отправка формы 'купить в кредит' c валидными тестовыми данными, поле владелец пустое. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
22. Отправка формы 'купить в кредит' c валидными тестовыми данными, поле cvc/cvv пустое. Остальные поля валидные тестовые данные. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
23. Отправка формы 'купить' c валидными тестовыми данными, в поле номер карты ввести невалидное значение из 15 цифр. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Неверный формат'*
24. Отправка формы 'купить' c валидными тестовыми данными, в поле номер карты ввести спец символы, например '¶¶¶¶'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
25. Отправка формы 'купить' c валидными тестовыми данными, в поле номер карты ввести латинские буквы, например 'gfdahbv'.  `Ожидаемый результат:` *Форма не отправляется, поле номера карты остается пустым, появилась подсказка под соответствующим полем*
26. Отправка формы 'купить' c валидными тестовыми данными, в поле номер карты ввести невалидное значение из 17 цифр. `Ожидаемый результат:` *Форма отправляется с первыми 16 цифрами*
27. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле номер карты ввести невалидное значение из 15 цифр. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Неверный формат'*
28. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле номер карты ввести спец символы, например '¶¶¶¶'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
29. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле номер карты ввести латинские буквы, например 'gfdahbv'.  `Ожидаемый результат:` *Форма не отправляется, поле номера карты остается пустым, появилась подсказка под соответствующим полем*
30. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле номер карты ввести невалидное значение из 17 цифр. `Ожидаемый результат:` *Форма отправляется с первыми 16 цифрами*
31. Отправка формы 'купить' c валидными тестовыми данными, в поле год ввести невалидное значение из 1 цифры, например 2.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Неверный формат'*
32. Отправка формы 'купить' c валидными тестовыми данными, в поле год ввести -1 от текущего. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Истёк срок действия карты'*
33. Отправка формы 'купить' c валидными тестовыми данными, в поле год ввести +6 от текущего. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Неверно указан срок действия карты'*
34. Отправка формы 'купить' c валидными тестовыми данными, в поле год ввести валидное значение из 2 цифр и попытатья добавить еще 1 цифру, например 230.  `Ожидаемый результат:` *Поле год содержит только первые 2 цифры, форма успешно отправляется*
35. Отправка формы 'купить' c валидными тестовыми данными, в поле год ввести спец символы, например '¶¶¶¶'.  `Ожидаемый результат:` *Поле год пустое, форма не отправляется, появилась подсказка под соответствующим полем*
36. Отправка формы 'купить' c валидными тестовыми данными, в поле год ввести латинские буквы, например 'rere'. `Ожидаемый результат:` *Поле год пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
37. Отправка формы 'купить' c валидными тестовыми данными, в поле год ввести буквы латиницей, например 'куку'. `Ожидаемый результат:` *Поле год пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
38. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле год ввести невалидное значение из 1 цифры, например 2.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Неверный формат'*
39. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле год ввести -1 от текущего. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Истёк срок действия карты'*
40. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле год ввести +6 от текущего. `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Неверно указан срок действия карты'*
41. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле год ввести валидное значение из 2 цифр и попытатья добавить еще 1 цифру, например 230.  `Ожидаемый результат:` *Поле год содержит только первые 2 цифры, форма успешно отправляется*
42. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле год ввести спец символы, например '¶¶¶¶'.  `Ожидаемый результат:` *Поле год пустое, форма не отправляется, появилась подсказка под соответствующим полем*
43. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле год ввести латинские буквы, например 'rere'. `Ожидаемый результат:` *Поле год пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
44. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле год ввести буквы латиницей, например 'куку'. `Ожидаемый результат:` *Поле год пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
45. Отправка формы 'купить' c валидными тестовыми данными, в поле месяц ввести невалидное значение из 1 цифры, например '2'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Неверный формат'*
46. Отправка формы 'купить' c валидными тестовыми данными, в поле месяц ввести валидное значение из 2 цифр и попытатья добавить еще 1 цифру, например 120.  `Ожидаемый результат:` *Поле месяц содержит только первые 2 цифры, форма успешно отправляется*
47. Отправка формы 'купить' c валидными тестовыми данными, в поле месяц ввести '00'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка "Неверно указан срок действия карты"*
48. Отправка формы 'купить' c валидными тестовыми данными, в поле месяц ввести '13'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка "Неверно указан срок действия карты"*
49. Отправка формы 'купить' c валидными тестовыми данными, в поле месяц ввести спец символы, например '¶¶'. `Ожидаемый результат:` *Поле месяц пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
50. Отправка формы 'купить' c валидными тестовыми данными, в поле месяц ввести латинские буквы, например 're'. `Ожидаемый результат:` *Поле месяц пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
51. Отправка формы 'купить' c валидными тестовыми данными, в поле месяц ввести буквы латиницей, например 'ку'. `Ожидаемый результат:` *Поле месяц пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
52. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле месяц ввести невалидное значение из 1 цифры, например '2'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Неверный формат'*
53. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле месяц ввести валидное значение из 2 цифр и попытатья добавить еще 1 цифру, например 120.  `Ожидаемый результат:` *Поле месяц содержит только первые 2 цифры, форма успешно отправляется*
54. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле месяц ввести '00'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка "Неверно указан срок действия карты"*
55. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле месяц ввести '13'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка "Неверно указан срок действия карты"*
56. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле месяц ввести спец символы, например '¶¶'. `Ожидаемый результат:` *Поле месяц пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
57. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле месяц ввести латинские буквы, например 're'. `Ожидаемый результат:` *Поле месяц пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
58. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле месяц ввести буквы латиницей, например 'ку'. `Ожидаемый результат:` *Поле месяц пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
59. Отправка формы 'купить' c валидными тестовыми данными, в поле владелец ввести только имя на латинице, например 'Ivan'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
60. Отправка формы 'купить' c валидными тестовыми данными, в поле владелец ввести имя и фамилию на латинице с дефисом в начале или в конце, например '-Mamed Magomed-Ogly' / 'Mamed Magomed-Ogly-'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
61. Отправка формы 'купить' c валидными тестовыми данными, в поле владелец ввести только 1 букву латиницей, например 'I'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
62. Отправка формы 'купить' c валидными тестовыми данными, в поле владелец ввести фамилию и имя кириллицей, например 'Иван Иванов'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
63. Отправка формы 'купить' c валидными тестовыми данными, в поле владелец ввести фамилию и имя латиницей, содержащее букву кириллицей, например 'Pavlov Pеtr'('е'- кириллицей).  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
64. Отправка формы 'купить' c валидными тестовыми данными, в поле владелец ввести цифры, например '12345 Petr'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
65. Отправка формы 'купить' c валидными тестовыми данными, в поле владелец ввести имя и фамилию, содержащие спец символы, например '¶avlov Petr'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
66. Отправка формы 'купить' c валидными тестовыми данными, в поле владелец ввести имя и фамилию, содержащие более 128 символов.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
67. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле владелец ввести только имя на латинице, например 'Ivan'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
68. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле владелец ввести имя и фамилию на латинице с дефисом в начале или в конце, например '-Mamed Magomed-Ogly' / 'Mamed Magomed-Ogly-'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
69. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле владелец ввести только 1 букву латиницей, например 'I'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
70. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле владелец ввести фамилию и имя кириллицей, например 'Иван Иванов'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
71. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле владелец ввести фамилию и имя латиницей, содержащее букву кириллицей, например 'Pavlov Pеtr'('е'- кириллицей).  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
72. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле владелец ввести цифры, например '12345 Petr'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
73. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле владелец ввести имя и фамилию, содержащие спец символы, например '¶avlov Petr'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
74. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле владелец ввести имя и фамилию, содержащие более 128 символов.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка под соответствующим полем*
75. Отправка формы 'купить' c валидными тестовыми данными, в поле CVC/CVV ввести невалидное значение из 1 цифры, например '2'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Неверный формат'*
76. Отправка формы 'купить' c валидными тестовыми данными, в поле CVC/CVV ввести валидное значение из 3 цифр и попытатья добавить еще 1 цифру, например 120.  `Ожидаемый результат:` *Поле CVC/CVV содержит только первые 3 цифры, форма успешно отправляется*
77. Отправка формы 'купить' c валидными тестовыми данными, в поле CVC/CVV ввести спец символы, например '¶¶'. `Ожидаемый результат:` *Поле CVC/CVV пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
78. Отправка формы 'купить' c валидными тестовыми данными, в поле CVC/CVV ввести латинские буквы, например 're'. `Ожидаемый результат:` *Поле CVC/CVV пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
79. Отправка формы 'купить' c валидными тестовыми данными, в поле CVC/CVV ввести буквы латиницей, например 'ку'. `Ожидаемый результат:` *Поле CVC/CVV пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
80. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле CVC/CVV ввести невалидное значение из 1 цифры, например '2'.  `Ожидаемый результат:` *Форма не отправляется, появилась подсказка 'Неверный формат'*
81. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле CVC/CVV ввести валидное значение из 3 цифр и попытатья добавить еще 1 цифру, например 120.  `Ожидаемый результат:` *Поле CVC/CVV содержит только первые 3 цифры, форма успешно отправляется*
82. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле CVC/CVV ввести спец символы, например '¶¶'. `Ожидаемый результат:` *Поле CVC/CVV пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
83. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле CVC/CVV ввести латинские буквы, например 're'. `Ожидаемый результат:` *Поле CVC/CVV пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*
84. Отправка формы 'купить в кредит' c валидными тестовыми данными, в поле CVC/CVV ввести буквы латиницей, например 'ку'. `Ожидаемый результат:` *Поле CVC/CVV пустое, появилась подсказка 'Поле обязательно для заполнения', форма не отправляется*

---
<details>
<summary>Возможные риски при автоматизации</summary>

1. Изменения в структуре страницы/UI могут привести к падению тестов.
2. Повышенные требования к уровню тестировщиков.
3. Возможны ложные срабатывания в тестах, при неправильной настройке окружения.
4. Разработка тестов будет невозможна, если я сломаю руку (:
5. Из-за отсутствия ТЗ, сравнение результатов (ожидаемый/фактический) может вызвать дополнительную сложность.
6. Слишком много работы по настройке инфраструктуры.
</details>

---
<details>
<summary>Интервальная оценка с учётом рисков в часах</summary>

1. Настройка инфраструктуры - 12 часов
2. Исследовательское тестирование сервиса - 6 часов
3. Написание тестов - 72 часа 
4. Выполнение тестов, составление issue - 12 часов
5. Написание отчета о автоматизации и тестировании - 6 часа
>* Итоговое время с учетом рисков -  110 часов

</details>

---
###### *Номера тестовых сценариев совпадают с номерами тестов в [test](/src/test/java/ru/netology/test/ServiceTest.java)